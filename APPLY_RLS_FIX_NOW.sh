#!/bin/bash

echo "ğŸš¨ URGENT: RLS POLICIES FIX REQUIRED"
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "âŒ ERROR: Empty Supabase error {} means RLS is blocking access!"
echo ""
echo "âœ… SOLUTION: Run this SQL in your Supabase Dashboard"
echo ""
echo "ğŸ“‹ STEP-BY-STEP INSTRUCTIONS:"
echo ""
echo "1. Open this URL in your browser:"
echo "   ğŸ‘‰ https://supabase.com/dashboard/project/vhoarjcbkcptqlyfdhsx"
echo ""
echo "2. Click 'SQL Editor' in the left sidebar"
echo ""
echo "3. Click '+ New Query' button"
echo ""
echo "4. Copy the SQL below and paste it into the editor:"
echo ""
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
cat /Users/jaan/Desktop/Hackathon/FIX_CHALLENGES_RLS.sql
echo ""
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "5. Click 'RUN' button (or press Cmd+Enter)"
echo ""
echo "6. Wait for 'Success' message"
echo ""
echo "7. Refresh your browser at http://localhost:3000"
echo ""
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "ğŸ’¡ WHY THIS IS NEEDED:"
echo "   - Supabase has Row Level Security (RLS) enabled"
echo "   - By default, RLS blocks ALL access"
echo "   - We need to create policies to allow reading challenges"
echo "   - This SQL creates policies for challenges, submissions, and profiles"
echo ""
echo "â° This takes only 30 seconds to fix!"
echo ""
